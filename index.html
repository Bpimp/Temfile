<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title></title>
        <link rel="stylesheet" href="./index.css" type="text/css"/>
    </head>
    <body>
        <section class="wrap">
                    <header class="header">
                        <h2 class="title">员工信息管理</h2>
                        <a href="javascript:;" class="addBtn">添加</a>
                    </header>
                    <form class="add">
                        <input type="text" class="name" placeholder="姓名">
                        <label class="genderWrap">
                            <input type="checkbox" class="gender">
                            <div class="genderIco">
                                <div class="genderInner"><span>男</span><span>女</span></div>
                            </div>
                        </label>
                        <input type="number" class="age" placeholder="年龄" step="1" min="18" max="80">
                        <label class="stateWrap">
                            <input type="checkbox" class="state">
                            <div class="stateIco">
                                <div class="stateInner"><span>在职</span><span>离职</span></div>
                            </div>
                        </label>
                        <button type="button" class="submit">录入信息</button>
                    </form>
                    <nav class="nav">
                        <a href="javascript:;">所有员工信息</a>
                        <a href="javascript:;">女员工信息</a>
                        <a href="javascript:;">男员工信息</a>
                        <a href="javascript:;">在职员工信息</a>
                        <a href="javascript:;">离职员工信息</a>
                    </nav>
                    <ul class="list"></ul>
                    <p class="operate">
                        <a href="javascript:;">删除选中项</a>
                        <a href="javascript:;">入职选中项</a>
                        <a href="javascript:;">离职选中项</a>
                    </p>	
        </section>
        <script src="./data.js"></script>
        <script>
            let list=document.querySelector('.list');
            let add=document.querySelector('.add');
            let operate=document.querySelector('.operate');
            let isShow=false;
            showDate();
            
            function isChecked() {
                return data.filter(item=>item.checked);
            }
            function setChecked(state){
                data.forEach(item => {
                    item.checked=state
                });
            }
            function showDate(){
                if(data.length===0){
                    isShow=true;
                }
                if(isShow){
                    add.style.display="flex";
                    list.style.display="none";
                }else{
                    add.style.display="none";
                    list.style.display="block";
                }
                list.innerHTML=`
                    <li>
                        <span>
                            <input type="checkbox" ${data.length===isChecked().length?"checked":''} class="checkAll">
                        </span>
                        <span>姓名</span>
                        <span>性别</span>
                        <span>年龄</span>
                        <span>状态</span>
                        <span>操作</span>
                    </li>`;
                
                data.forEach(item=>{
                    list.innerHTML+=`
                        <li>
                            <span>
                                <input type="checkbox" ${item.checked?"checked":''} class="check">
                            </span>
                            <span>${item.name}</span>
                            <span>${item.gender}</span>
                            <span>${item.age}</span>
                            <span><a href="javascript:;">${item.state?"在职":"离职"}</a></span>
                            <span><a href="javascript:;">删除</a></span>
                        </li>`
                });
                let checkAll=document.querySelector('.checkAll');
                checkAll.onchange=function(){
                    console.log(isChecked().length);
                    setChecked(this.checked);
                    showDate();
                }
                let check=document.querySelector('.check');
                check.forEach(item=>{
                    item.onchange=function(){
                        
                    }
                })
                if(isChecked().length>0){
                    operate.style.display='flex'
                }else{
                    operate.style.display='none'
                }
            }
            
        </script>
    </body>
</html>