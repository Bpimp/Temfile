<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title></title>
        <link rel="stylesheet" href="./index.css" type="text/css"/>
    </head>
    <body>
        <section class="wrap">
                    <header class="header">
                        <h2 class="title">员工信息管理</h2>
                        <a href="javascript:;" class="addBtn">添加</a>
                    </header>
                    <form class="add">
                        <input type="text" class="name" placeholder="姓名">
                        <label class="genderWrap">
                            <input type="checkbox" class="gender">
                            <div class="genderIco">
                                <div class="genderInner"><span>男</span><span>女</span></div>
                            </div>
                        </label>
                        <input type="number" class="age" placeholder="年龄" step="1" min="18" max="80">
                        <label class="stateWrap">
                            <input type="checkbox" class="state">
                            <div class="stateIco">
                                <div class="stateInner"><span>在职</span><span>离职</span></div>
                            </div>
                        </label>
                        <button type="button" class="submit">录入信息</button>
                    </form>
                    <nav class="nav">
                        <a href="javascript:;">所有员工信息</a>
                        <a href="javascript:;">女员工信息</a>
                        <a href="javascript:;">男员工信息</a>
                        <a href="javascript:;">在职员工信息</a>
                        <a href="javascript:;">离职员工信息</a>
                    </nav>
                    <ul class="list"></ul>
                    <p class="operate">
                        <a href="javascript:;">删除选中项</a>
                        <a href="javascript:;">入职选中项</a>
                        <a href="javascript:;">离职选中项</a>
                    </p>	
        </section>
        <script src="./data.js"></script>
        <!-- <script>
            let list=document.querySelector('.list');
            let add=document.querySelector('.add');
            let operate=document.querySelector('.operate');
            let addBtn=document.querySelector('.addBtn');
            let submit=document.querySelector('.submit');
            let newData=document.querySelectorAll('input');
            let nav=document.querySelector('.nav');
            let isShow=false;
            showDate();
            addBtn.onclick=function(){
                isShow=!isShow;
                showDate();
            };
            submit.onclick=function(){
                addPerson(newData[0].value,newData[2].value,newData[1].checked?'女':'男',!newData[3].checked)
                showDate();
            }
            function addPerson(name,age,gender,state) {
                data.push({
                    id:Symbol(),name,age,gender,state,checked:false
                })
            }
            function isChecked() {
                return data.filter(item=>item.checked);
            }
            function setCheckedAll(state) {
                data.forEach(item=>{
                    item.checked=state;
                })
            }
            function setChecked(id,state){
                data.forEach(item => {
                    if(item.id===id){
                        item.checked=state;
                    }
                });
            }
            function showDate(){
                if(data.length===0){
                    isShow=true;
                    list.style.display="none";
                    nav.style.display="none";
                }else{
                    list.style.display="block";
                    nav.style.display="flex";
                }
                if(isShow){
                    add.style.display="flex";
                }else{
                    add.style.display="none";
                    list.style.display="block";
                }
                list.innerHTML=`
                    <li>
                        <span>
                            <input type="checkbox" ${data.length===isChecked().length?"checked":''} class="checkAll">
                        </span>
                        <span>姓名</span>
                        <span>性别</span>
                        <span>年龄</span>
                        <span>状态</span>
                        <span>操作</span>
                    </li>`;
                
                data.forEach((item,index)=>{
                    list.innerHTML+=`
                        <li>
                            <span>
                                <input type="checkbox" ${item.checked?"checked":''} class="check">
                            </span>
                            <span>${item.name}</span>
                            <span>${item.gender}</span>
                            <span>${item.age}</span>
                            <span><a href="javascript:;">${item.state?"在职":"离职"}</a></span>
                            <span><a href="javascript:;">删除</a></span>
                        </li>`;
                });
                let checkAll=document.querySelector('.checkAll');
                checkAll.onchange=function(){
                    setCheckedAll(this.checked);
                    showDate();
                }
                let check=document.querySelectorAll('.check'); 
                check.forEach((item,index)=>{
                    item.onchange=function(){
                        setChecked(data[index].id,this.checked);
                        showDate();
                    }
                });
                if(isChecked().length>0){
                    operate.style.display='flex'
                }else{
                    operate.style.display='none'
                }
            } 
            operate.children[0].onclick=function(){
                    data=data.filter(item=>!item.checked);
                    showDate();
                }
            operate.children[1].onclick=function(){
                isChecked().forEach(item=>{
                    item.state=true;
                })
                showDate();
            }
            operate.children[2].onclick=function(){
                isChecked().forEach(item=>{
                    item.state=false;
                })
                showDate();
            }
        </script> -->
        <script>
            class DataInfo {
                constructor(data){
                    this.data=data;
                }
                add(name,age,gender,state){
                    data.push({
                        id:Symbol(),name,age,gender,state,checked:false
                    })
                }
            }
            let info=new DataInfo();
            let list=document.querySelector('.list');
            info.render=function(){
                list.innerHTML=`
                    <li>
                        <span>
                            <input type="checkbox" class="checkAll">
                        </span>
                        <span>姓名</span>
                        <span>性别</span>
                        <span>年龄</span>
                        <span>状态</span>
                        <span>操作</span>
                    </li>`;
                
                data.forEach((item,index)=>{
                    list.innerHTML+=`
                        <li>
                            <span>
                                <input type="checkbox" ${item.checked?"checked":''} class="check">
                            </span>
                            <span>${item.name}</span>
                            <span>${item.gender}</span>
                            <span>${item.age}</span>
                            <span><a href="javascript:;">${item.state?"在职":"离职"}</a></span>
                            <span><a href="javascript:;">删除</a></span>
                        </li>`;
                });
            }
            info.render();
        </script>
    </body>
</html>